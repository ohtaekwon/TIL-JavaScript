# PART 2

###  :pencil: ***입문 048 :  자바스크립트 객체지향 프로그래밍***

<br>

**객체지향 프로그래밍**이란, **프로그램을 객체들로 구성하고 객체들 간에 서로 상호작용하도록 작성하는 방법**이다. 

객체에 대해 재정의할 필요가 있는데, **객체지향에서 객체**란 단순 객체 값들을 그룹으로 묶은 데이터 모음이 아닌, **식별 가능한 구체적인 사물 또는 추상적인 개념**이라고 정의한다. 

- 예를 들어, 내가 책을 읽을 때, 책을 읽는 `나`도 객체이고, 읽고 있는 `책`도 객체이다.

그리고 객체는 **특징적인 행동**과 **변경 가능한 상태**를 가진다. 자바스크립트에서 함수 값으로 가지는 속성을 **메소드**라고 하는데, 이 메소드를 특징적인 행동이며, 그외 다른 값을은 변경 가능한 상태라 볼 수 있다.

자바스크립트의 객체를 **객체지향**에서 말하는 객체로 사용하려면 코드를 작성하는 프로그래머가 그에 맞게 작성해야 한다. 단순히 객체를 정의하였다고 **객체지향 프로그래밍**을 하는 것은 아니다. 

```javascript
// 1.
const teacherTK = {
    name : '태권',
    age : 30,
    teachJavascript : function(student){
        student.gainExp();
    }
}

// 2.
const studentOH = {
    name : "오",
    age : 20,
    exp : 0,
    gainExp : function(){
        this.exp++;
    }
}
console.log(studentOH.exp);							// 0
teacherTK.teachJavascript(studentOH);				// undefined
console.log(studentOH.exp);							// 1
```

- `1.` 태권 선생을 객체로 표현한다.

  - 태권 선생은 이름과 나이를 속성으로 가지고 있고, 자바스크립트를 가르치는 행위를 한다.
  - `taechJavascirpt` 메소드는 학생을 매개변수로 정의하고 있다.
  - 즉, `teacherTK` 객체는 `student`객체를 사용한다.

  **객체지향**에서는 객체들이 서로 의사소통을 하게 되는데, 메소드를 통해 서로 메시지를 전달한다. 그리고 객체지향에서는 협력하지 않는 객체란 존재하지 않는다.

  - 이때 협력은 메시지 전달을 통해 이루어진다.

- `2.` *오*학생을 객체로 표현한다.

  - *오*학생은 `이름`과 `나이` 그리고 `경험치`를 상태로 가지고 있다. 그리고 경험치를 얻는 행위를 한다.
  - 이 행위를 통해 내부 상태인 경험치를 변경시킬 수 있다.

<br>

---

객체지향에서는 무수히 많은 객체들을 공통적인 특성을 기준으로 객체를 묶어서 하나의 타입으로 정의한다.

- 이렇게 타입을 정의하는 작업을 **분류** (classification)라고 하며, 이는 일종의 추상화를 하는 것이다.
- 위의 예시를 통해서, 선생들중 자바스크립트 선생이란 타입을 분류하고 자바스크립트 선생은 자바스크립트를 가르치는 공통 특징이 있다고 정의할 수 있다. 
- 자바스크립트는 프로토타입 기반으로 객체지향 프로그래밍을 지원한다. 자바의 클래스기반과의 큰 차이점으로 프로토타입으로 객체에 공통 사항을 적용할 수 있다.
  - 즉, 모든 객체는 다른 객체의 **원형**(Prototype)이 될 수 있다.
- 특징을 묘사하는 원형 객체를 만들고 이 원형 객체에 기반하는 여러 객체들을 만들면 모두 같은 특징을 가질 수 있다.

```javascript
// 1.
const studentProto = {
    gainExp : function(){
        this.exp++;
    }
} 

// 2.
const TaeKwon = {
    name : "태권",
    age : 10,
    exp : 0,
    __proto__:studentProto
};

// 3.
const OH = {
    name : "오",
    age : 20,
    exp : 10,
    __proto__ : studentProto
};

// 4.
OH.gainExp();
TaeKwon.gainExp();
TaeKwon.gainExp();
console.log(TaeKwon);			// {name: '태권', age: 10, exp: 2}
console.log(OH);				// {name: '오', age: 20, exp: 11}
```

- `1.` 학생의 경험치를 얻는 행위를 `gainExp` 메소드로 작성한 **원형**(prototype) 객체를 정의한다.

- `2.`  이름이 `태권`이고 나이와 경험치를 가지는 `TaeKwon` 객체를 정의한다. 그리고 자바스크립트에서는 `__proto__` 속성으로 원형 객체를 정의할 수 있다.

  - 모든 자바스크립 객체는 `__proto__` 속성을 가진다.
  - 위와 같이 코드에서 처럼 별도로 `__proto__` 속성에 다른 객체를 할당하지 않으면 기본적으로 `Object.prototype` 객체가 연결되어있다.

  `TaeKwon` 객체는 `__proto__` 속성에 `studentProto` 객체를 연결했기 때문에 경험치를 얻는 행위가 가능하게 된다.

- `3.` 앞에서 정의한 `TaeKwon` 객체와 유사한 `OH` 객체를 정의한다.

  - **같은 속성 키**를 가지지만 **다른 값**을 가진다.
  - 이름이 `오`이고 나이와 경험치도 다르다.
  - 하지만 `OH`객체 또한 `__proto__` 속성에 `studentProto` 객체를 할당함으로써 경험치를 얻는 행위를 할 수 있다.

- `4.` `TaeKwon`객체와 `OH` 객체 모두 경험치를 얻는 행위를 할 수 있다.

  - 두 객체 모두가 공통된 경험치를 얻는 행위가 가능하다.
    - 왜냐하면 모두 같은 **원형 객체**에 연결되어 있기 때문이다.
  - 두 객체는 학생 타입이라 할 수 있다.
    - 그리고 경험치를 한 행위 때문에 변경된 상태를 콘솔 출력한다.


