# PART 2

###  :pencil: ***입문 039 :  스코프 이해하기***

<br>

스코프는 유효 범위로써 변수와 매개변수가 어디까지 유효한지를 나타낸다. 예를 들어, 코드에서 `a`라고 작성했을 때, `a`라는 식별자가 어디를 참조할지, 실제 값이 무엇인지를 찾을 때 

자바스크립트는 기본적으로 전역과 함수 단위로 스코프를 생성한다. 함수 안에서 선언된 변수는 함수 블록 안에서만 접근이 가능하다. 

```javascript
// 1.
var a = 10;
// 2.
console.log(a);

// 3.
function print(){
    // 3-1.
    var b = 20;
    // 3-2.
    if(true){
        var c = 30;
    }
    console.log(c);
}
print();
// 4.
console.log(b);			// Uncaught ReferenceError: b is not defined
```

- `1.` 변수 `a`를 전역으로 선언하고 `10`을 대입한다.
- `2.` `a` 에 해당하는 값을 찾아 콘솔에 출력한다. 이때, 전역 스코프에서 `a`식별자에 연결된 `10`을 찾아서 출력한다.
- `3.` *print*라는 이름으로 함수를 선언한다.
- `3-1.` 함수 내부에 변수 `b`를 선언하고 `20`을 대입한다.
- `3-2.` *if* 문 안의 블록에서 변수 `c`를 선언하고 블록 밖에서 `c`를 출력한다. 변수 `c`는 *if* 문 안의 블록에서 선언되었지만 *var* 키워드로 선언한 변수들은 모두 함수 스코프에 정의된다. 그래서 *print* 함수 내 어디에서든 변수 `c`에 접근할 수 있다.
- `4.` *print* 함수에서 선언한 변수 `b`에 접근하려 한다. 함수 스코프에 정의된 변수 `b`는 해당 함수 내에서만 접근이 가능하기 때문에 함수 밖에서는 접근할 수 없고, 전역에도 `b`라는 이름으로 정의된 것이 없기 때문에 **ReferenceError** 가 출력된다.

<br>

#### _결과_

![](https://github.com/ohtaekwon/TIL-JavaScript/blob/master/JavaScript-200%EC%A0%9C/img/039_1.png?raw=true)

스코프는 일반적으로 **렉시컬** (**Lexical**) 스코프와 **다이나믹**(**Dynamic**) 스코프로 분류된다. 

렉시컬 스코프는 코드를 작성하는 시점에 스코프가 경정되어진다고 해서 **정적 스코프**라고도 부른다. 

- 자바스크립트는 대표적인 **랙시컬 스코프**이다. 

```javascript
// 1.
var a = "global";

function print1(){
    console.log(a);
}
print1();				// global

// 2.
function print2(){
    var a = "local";
    print1();
}
// 1-1.
print1();				// global

// 1-2.
print2();				// global
```

위의 코드를 실행하면 모두 *global*이 출력된다. 만약 자바스크립트가 **다이나믹 스코프**였다면, *global* 다음에 *local*이 출력되었을 것이다.

- `1.` 전역으로 변수 `a`, `print1`를 함수로 선언한다. 전역 변수 `a`에는 문자열 *global*을 대입한다.
- `2.` `print2` 함수 내부에 `a` 이름으로 지역변수를 선언하고 문자열 *local*을 대입한다. 내부에서 전역에 정의된 `pirnt1` 함수를 호출한다.
- `1-1.` `print1`함수를 호출한다. `print1`함수 블록이 실행되는데, `a`에 해당하는 값을 찾아 콘솔에 출력하게 된다. `a`는 `print1` 함수 스코프에서 찾을 수 없어 전역에서 찾아 문자열 *global*을 출력하게 된다.
- `2-1.` `print2` 함수를 호출한다. 하지만 함수 내부에서 `print1` 함수를 호출하고 있기 때문에 `pirnt1` 함수 블록이 실행된다. 
  - 이때 `a`라는 이름을 전역에서 정의된 `a`로 찾을 건지 `print2` 내부에 정의된 `a`로 찾을 건지가 **렉시컬 스코프** 이기 때문에 코드를 작성하는 시점에 확정된다.
  - 따라서, `pirnt1`이 작성될 때에는 이미 전역 `a`를 참조하고 있기 때문에 문자열 *global*이 출력된다.


